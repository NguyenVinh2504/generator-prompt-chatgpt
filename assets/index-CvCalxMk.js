(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();const n=document.querySelector.bind(document),a=n("#input"),i=n("#formatInput"),v=n("#get-context-btn"),g=n("#translate-btn"),y=n("#copy-btn"),d=n("#title"),c=n("#edit-prompt-modal"),h=n("#edit-prompt-close-btn"),m=n("#input-edit-prompt"),b=n("#edit-prompt-modal-open-btn"),L=function(t,r=500){let l=null;return function(...s){l&&clearTimeout(l),l=setTimeout(()=>t.apply(this,s),r)}};let p=!1;const I=function(){const t=a.value.trim();t&&(i.value="",i.value=`
# I have this subtitle: 
${t}
---
Can you tell me the context of this subtitle? Please include approximately 500 characters. Note the context of the subtitles, not the summary.
`.trim())},P=function(){const t=a.value.trim();if(!t){i.value="";return}localStorage.setItem("sampleSubtitle",t);const r=localStorage.getItem("prompt")||"";i.value="",i.value=`
# I have this subtitle: 
${t}
---
${r}
`.trim()};function f(t){t?(m.value=localStorage.getItem("prompt")||"",c.classList.replace("invisible","visible"),c.classList.replace("opacity-0","opacity-100")):(c.classList.replace("visible","invisible"),c.classList.replace("opacity-100","opacity-0"))}function x(t){t&&localStorage.getItem("prompt")!==t&&localStorage.setItem("prompt",t)}v.addEventListener("click",()=>{p=!1,i.value="",d.innerText="Prompt Get Context"});g.addEventListener("click",()=>{p=!0,a.value="",i.value="",d.innerText="Translate"});a.addEventListener("input",L(function(){p?P.call(this):I.call(this)}));y.addEventListener("click",async function(){i.setSelectionRange(0,1e5),await navigator.clipboard.writeText(i.value)});b.addEventListener("click",()=>{f(!0)});h.addEventListener("click",()=>{x(m.value),f(!1)});
